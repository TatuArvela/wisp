"use strict";(globalThis.webpackChunk_tatuarvela_wisp=globalThis.webpackChunk_tatuarvela_wisp||[]).push([[161],{"./stories/controls/ComboBox.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ComboBox_stories});var react=__webpack_require__("./node_modules/react/index.js"),use_computed=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-computed.js"),use_disposables=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-disposables.js"),use_event=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-event.js"),use_id=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-id.js"),use_iso_morphic_effect=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-iso-morphic-effect.js"),use_latest_value=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-latest-value.js"),use_outside_click=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-outside-click.js"),use_resolve_button_type=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-resolve-button-type.js"),use_sync_refs=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-sync-refs.js"),owner=__webpack_require__("./node_modules/@headlessui/react/dist/utils/owner.js");var calculate_active_index=__webpack_require__("./node_modules/@headlessui/react/dist/utils/calculate-active-index.js"),disposables=__webpack_require__("./node_modules/@headlessui/react/dist/utils/disposables.js"),render=__webpack_require__("./node_modules/@headlessui/react/dist/utils/render.js"),bugs=__webpack_require__("./node_modules/@headlessui/react/dist/utils/bugs.js"),match=__webpack_require__("./node_modules/@headlessui/react/dist/utils/match.js"),utils_form=__webpack_require__("./node_modules/@headlessui/react/dist/utils/form.js"),focus_management=__webpack_require__("./node_modules/@headlessui/react/dist/utils/focus-management.js"),internal_hidden=__webpack_require__("./node_modules/@headlessui/react/dist/internal/hidden.js"),open_closed=__webpack_require__("./node_modules/@headlessui/react/dist/internal/open-closed.js"),keyboard=__webpack_require__("./node_modules/@headlessui/react/dist/components/keyboard.js"),use_controllable=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-controllable.js");function use_watch_m(u,t){let e=(0,react.useRef)([]),r=(0,use_event.z)(u);(0,react.useEffect)((()=>{let o=[...e.current];for(let[n,a]of t.entries())if(e.current[n]!==a){let l=r(t,o);return e.current=t,l}}),[r,...t])}var use_tracked_pointer=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-tracked-pointer.js");function platform_n(){return function t(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}()||function i(){return/Android/gi.test(window.navigator.userAgent)}()}var n,e,ke=((e=ke||{})[e.Open=0]="Open",e[e.Closed=1]="Closed",e),we=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(we||{}),Ue=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ue||{}),Ne=((n=Ne||{})[n.OpenCombobox=0]="OpenCombobox",n[n.CloseCombobox=1]="CloseCombobox",n[n.GoToOption=2]="GoToOption",n[n.RegisterOption=3]="RegisterOption",n[n.UnregisterOption=4]="UnregisterOption",n[n.RegisterLabel=5]="RegisterLabel",n);function re(t,l=(e=>e)){let e=null!==t.activeOptionIndex?t.options[t.activeOptionIndex]:null,r=(0,focus_management.z2)(l(t.options.slice()),(b=>b.dataRef.current.domRef.current)),i=e?r.indexOf(e):null;return-1===i&&(i=null),{options:r,activeOptionIndex:i}}let He={1(t){var l;return null!=(l=t.dataRef.current)&&l.disabled||1===t.comboboxState?t:{...t,activeOptionIndex:null,comboboxState:1}},0(t){var e;if(null!=(e=t.dataRef.current)&&e.disabled||0===t.comboboxState)return t;let l=t.activeOptionIndex;if(t.dataRef.current){let{isSelected:r}=t.dataRef.current,i=t.options.findIndex((b=>r(b.dataRef.current.value)));-1!==i&&(l=i)}return{...t,comboboxState:0,activeOptionIndex:l}},2(t,l){var i,b,n,d;if(null!=(i=t.dataRef.current)&&i.disabled||null!=(b=t.dataRef.current)&&b.optionsRef.current&&(null==(n=t.dataRef.current)||!n.optionsPropsRef.current.static)&&1===t.comboboxState)return t;let e=re(t);if(null===e.activeOptionIndex){let o=e.options.findIndex((u=>!u.dataRef.current.disabled));-1!==o&&(e.activeOptionIndex=o)}let r=(0,calculate_active_index.d)(l,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled});return{...t,...e,activeOptionIndex:r,activationTrigger:null!=(d=l.trigger)?d:1}},3:(t,l)=>{var b,n;let e={id:l.id,dataRef:l.dataRef},r=re(t,(d=>[...d,e]));null===t.activeOptionIndex&&null!=(b=t.dataRef.current)&&b.isSelected(l.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(e));let i={...t,...r,activationTrigger:1};return null!=(n=t.dataRef.current)&&n.__demoMode&&void 0===t.dataRef.current.value&&(i.activeOptionIndex=0),i},4:(t,l)=>{let e=re(t,(r=>{let i=r.findIndex((b=>b.id===l.id));return-1!==i&&r.splice(i,1),r}));return{...t,...e,activationTrigger:1}},5:(t,l)=>({...t,labelId:l.id})},ae=(0,react.createContext)(null);function $(t){let l=(0,react.useContext)(ae);if(null===l){let e=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,$),e}return l}ae.displayName="ComboboxActionsContext";let le=(0,react.createContext)(null);function H(t){let l=(0,react.useContext)(le);if(null===l){let e=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,H),e}return l}function Ge(t,l){return(0,match.E)(l.type,He,t,l)}le.displayName="ComboboxDataContext";let Xe=react.Fragment;let Ze=render.AN.RenderStrategy|render.AN.Static;let to=(0,render.yV)((function je(t,l){let{value:e,defaultValue:r,onChange:i,form:b,name:n,by:d=((p,T)=>p===T),disabled:o=!1,__demoMode:u=!1,nullable:P=!1,multiple:f=!1,...E}=t,[c=(f?[]:void 0),g]=(0,use_controllable.q)(e,i,r),[m,x]=(0,react.useReducer)(Ge,{dataRef:(0,react.createRef)(),comboboxState:u?0:1,options:[],activeOptionIndex:null,activationTrigger:1,labelId:null}),L=(0,react.useRef)(!1),F=(0,react.useRef)({static:!1,hold:!1}),h=(0,react.useRef)(null),B=(0,react.useRef)(null),k=(0,react.useRef)(null),G=(0,react.useRef)(null),V=(0,use_event.z)("string"==typeof d?(p,T)=>{let R=d;return(null==p?void 0:p[R])===(null==T?void 0:T[R])}:d),M=(0,react.useCallback)((p=>(0,match.E)(s.mode,{1:()=>c.some((T=>V(T,p))),0:()=>V(c,p)})),[c]),s=(0,react.useMemo)((()=>({...m,optionsPropsRef:F,labelRef:h,inputRef:B,buttonRef:k,optionsRef:G,value:c,defaultValue:r,disabled:o,mode:f?1:0,get activeOptionIndex(){if(L.current&&null===m.activeOptionIndex&&m.options.length>0){let p=m.options.findIndex((T=>!T.dataRef.current.disabled));if(-1!==p)return p}return m.activeOptionIndex},compare:V,isSelected:M,nullable:P,__demoMode:u})),[c,r,o,f,P,u,m]),O=(0,react.useRef)(null!==s.activeOptionIndex?s.options[s.activeOptionIndex]:null);(0,react.useEffect)((()=>{let p=null!==s.activeOptionIndex?s.options[s.activeOptionIndex]:null;O.current!==p&&(O.current=p)})),(0,use_iso_morphic_effect.e)((()=>{m.dataRef.current=s}),[s]),(0,use_outside_click.O)([s.buttonRef,s.inputRef,s.optionsRef],(()=>oe.closeCombobox()),0===s.comboboxState);let a=(0,react.useMemo)((()=>({open:0===s.comboboxState,disabled:o,activeIndex:s.activeOptionIndex,activeOption:null===s.activeOptionIndex?null:s.options[s.activeOptionIndex].dataRef.current.value,value:c})),[s,o,c]),I=(0,use_event.z)((p=>{let T=s.options.find((R=>R.id===p));T&&j(T.dataRef.current.value)})),S=(0,use_event.z)((()=>{if(null!==s.activeOptionIndex){let{dataRef:p,id:T}=s.options[s.activeOptionIndex];j(p.current.value),oe.goToOption(calculate_active_index.T.Specific,T)}})),X=(0,use_event.z)((()=>{x({type:0}),L.current=!0})),q=(0,use_event.z)((()=>{x({type:1}),L.current=!1})),Q=(0,use_event.z)(((p,T,R)=>(L.current=!1,p===calculate_active_index.T.Specific?x({type:2,focus:calculate_active_index.T.Specific,id:T,trigger:R}):x({type:2,focus:p,trigger:R})))),Y=(0,use_event.z)(((p,T)=>(x({type:3,id:p,dataRef:T}),()=>{var R;(null==(R=O.current)?void 0:R.id)===p&&(L.current=!0),x({type:4,id:p})}))),ce=(0,use_event.z)((p=>(x({type:5,id:p}),()=>x({type:5,id:null})))),j=(0,use_event.z)((p=>(0,match.E)(s.mode,{0:()=>null==g?void 0:g(p),1(){let T=s.value.slice(),R=T.findIndex((J=>V(J,p)));return-1===R?T.push(p):T.splice(R,1),null==g?void 0:g(T)}}))),oe=(0,react.useMemo)((()=>({onChange:j,registerOption:Y,registerLabel:ce,goToOption:Q,closeCombobox:q,openCombobox:X,selectActiveOption:S,selectOption:I})),[]),Te=null===l?{}:{ref:l},Z=(0,react.useRef)(null),me=(0,use_disposables.G)();return(0,react.useEffect)((()=>{Z.current&&void 0!==r&&me.addEventListener(Z.current,"reset",(()=>{j(r)}))}),[Z,j]),react.createElement(ae.Provider,{value:oe},react.createElement(le.Provider,{value:s},react.createElement(open_closed.up,{value:(0,match.E)(s.comboboxState,{0:open_closed.ZM.Open,1:open_closed.ZM.Closed})},null!=n&&null!=c&&(0,utils_form.t)({[n]:c}).map((([p,T],R)=>react.createElement(internal_hidden._,{features:internal_hidden.A.Hidden,ref:0===R?J=>{var ie;Z.current=null!=(ie=null==J?void 0:J.closest("form"))?ie:null}:void 0,...(0,render.oA)({key:p,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:b,name:p,value:T})}))),(0,render.sY)({ourProps:Te,theirProps:E,slot:a,defaultTag:Xe,name:"Combobox"}))))})),no=(0,render.yV)((function $e(t,l){var g;let e=H("Combobox.Button"),r=$("Combobox.Button"),i=(0,use_sync_refs.T)(e.buttonRef,l),b=(0,use_id.M)(),{id:n=`headlessui-combobox-button-${b}`,...d}=t,o=(0,use_disposables.G)(),u=(0,use_event.z)((m=>{switch(m.key){case keyboard.R.ArrowDown:return m.preventDefault(),m.stopPropagation(),1===e.comboboxState&&r.openCombobox(),o.nextFrame((()=>{var x;return null==(x=e.inputRef.current)?void 0:x.focus({preventScroll:!0})}));case keyboard.R.ArrowUp:return m.preventDefault(),m.stopPropagation(),1===e.comboboxState&&(r.openCombobox(),o.nextFrame((()=>{e.value||r.goToOption(calculate_active_index.T.Last)}))),o.nextFrame((()=>{var x;return null==(x=e.inputRef.current)?void 0:x.focus({preventScroll:!0})}));case keyboard.R.Escape:return 0!==e.comboboxState?void 0:(m.preventDefault(),e.optionsRef.current&&!e.optionsPropsRef.current.static&&m.stopPropagation(),r.closeCombobox(),o.nextFrame((()=>{var x;return null==(x=e.inputRef.current)?void 0:x.focus({preventScroll:!0})})));default:return}})),P=(0,use_event.z)((m=>{if((0,bugs.P)(m.currentTarget))return m.preventDefault();0===e.comboboxState?r.closeCombobox():(m.preventDefault(),r.openCombobox()),o.nextFrame((()=>{var x;return null==(x=e.inputRef.current)?void 0:x.focus({preventScroll:!0})}))})),f=(0,use_computed.v)((()=>{if(e.labelId)return[e.labelId,n].join(" ")}),[e.labelId,n]),E=(0,react.useMemo)((()=>({open:0===e.comboboxState,disabled:e.disabled,value:e.value})),[e]),c={ref:i,id:n,type:(0,use_resolve_button_type.f)(t,e.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":null==(g=e.optionsRef.current)?void 0:g.id,"aria-expanded":e.disabled?void 0:0===e.comboboxState,"aria-labelledby":f,disabled:e.disabled,onClick:P,onKeyDown:u};return(0,render.sY)({ourProps:c,theirProps:d,slot:E,defaultTag:"button",name:"Combobox.Button"})})),ro=(0,render.yV)((function Ke(t,l){var V,M,s,O;let e=(0,use_id.M)(),{id:r=`headlessui-combobox-input-${e}`,onChange:i,displayValue:b,type:n="text",...d}=t,o=H("Combobox.Input"),u=$("Combobox.Input"),P=(0,use_sync_refs.T)(o.inputRef,l),f=(0,react.useRef)(!1),E=(0,use_disposables.G)();var a;use_watch_m((([a,I],[S,X])=>{f.current||o.inputRef.current&&(0===X&&1===I||a!==S)&&(o.inputRef.current.value=a)}),["function"==typeof b&&void 0!==o.value?null!=(a=b(o.value))?a:"":"string"==typeof o.value?o.value:"",o.comboboxState]),use_watch_m((([a],[I])=>{if(0===a&&1===I){let S=o.inputRef.current;if(!S)return;let X=S.value,{selectionStart:q,selectionEnd:Q,selectionDirection:Y}=S;S.value="",S.value=X,null!==Y?S.setSelectionRange(q,Q,Y):S.setSelectionRange(q,Q)}}),[o.comboboxState]);let g=(0,react.useRef)(!1),m=(0,use_event.z)((()=>{g.current=!0})),x=(0,use_event.z)((()=>{setTimeout((()=>{g.current=!1}))})),L=(0,use_event.z)((a=>{switch(f.current=!0,a.key){case keyboard.R.Backspace:case keyboard.R.Delete:if(0!==o.mode||!o.nullable)return;let I=a.currentTarget;E.requestAnimationFrame((()=>{""===I.value&&(u.onChange(null),o.optionsRef.current&&(o.optionsRef.current.scrollTop=0),u.goToOption(calculate_active_index.T.Nothing))}));break;case keyboard.R.Enter:if(f.current=!1,0!==o.comboboxState||g.current)return;if(a.preventDefault(),a.stopPropagation(),null===o.activeOptionIndex)return void u.closeCombobox();u.selectActiveOption(),0===o.mode&&u.closeCombobox();break;case keyboard.R.ArrowDown:return f.current=!1,a.preventDefault(),a.stopPropagation(),(0,match.E)(o.comboboxState,{0:()=>{u.goToOption(calculate_active_index.T.Next)},1:()=>{u.openCombobox()}});case keyboard.R.ArrowUp:return f.current=!1,a.preventDefault(),a.stopPropagation(),(0,match.E)(o.comboboxState,{0:()=>{u.goToOption(calculate_active_index.T.Previous)},1:()=>{u.openCombobox(),E.nextFrame((()=>{o.value||u.goToOption(calculate_active_index.T.Last)}))}});case keyboard.R.Home:if(a.shiftKey)break;return f.current=!1,a.preventDefault(),a.stopPropagation(),u.goToOption(calculate_active_index.T.First);case keyboard.R.PageUp:return f.current=!1,a.preventDefault(),a.stopPropagation(),u.goToOption(calculate_active_index.T.First);case keyboard.R.End:if(a.shiftKey)break;return f.current=!1,a.preventDefault(),a.stopPropagation(),u.goToOption(calculate_active_index.T.Last);case keyboard.R.PageDown:return f.current=!1,a.preventDefault(),a.stopPropagation(),u.goToOption(calculate_active_index.T.Last);case keyboard.R.Escape:return f.current=!1,0!==o.comboboxState?void 0:(a.preventDefault(),o.optionsRef.current&&!o.optionsPropsRef.current.static&&a.stopPropagation(),u.closeCombobox());case keyboard.R.Tab:if(f.current=!1,0!==o.comboboxState)return;0===o.mode&&u.selectActiveOption(),u.closeCombobox()}})),F=(0,use_event.z)((a=>{u.openCombobox(),null==i||i(a)})),h=(0,use_event.z)((()=>{f.current=!1})),B=(0,use_computed.v)((()=>{if(o.labelId)return[o.labelId].join(" ")}),[o.labelId]),k=(0,react.useMemo)((()=>({open:0===o.comboboxState,disabled:o.disabled})),[o]),G={ref:P,id:r,role:"combobox",type:n,"aria-controls":null==(V=o.optionsRef.current)?void 0:V.id,"aria-expanded":o.disabled?void 0:0===o.comboboxState,"aria-activedescendant":null===o.activeOptionIndex||null==(M=o.options[o.activeOptionIndex])?void 0:M.id,"aria-labelledby":B,"aria-autocomplete":"list",defaultValue:null!=(O=null!=(s=t.defaultValue)?s:void 0!==o.defaultValue?null==b?void 0:b(o.defaultValue):null)?O:o.defaultValue,disabled:o.disabled,onCompositionStart:m,onCompositionEnd:x,onKeyDown:L,onChange:F,onBlur:h};return(0,render.sY)({ourProps:G,theirProps:d,slot:k,defaultTag:"input",name:"Combobox.Input"})})),ao=(0,render.yV)((function Qe(t,l){let e=(0,use_id.M)(),{id:r=`headlessui-combobox-label-${e}`,...i}=t,b=H("Combobox.Label"),n=$("Combobox.Label"),d=(0,use_sync_refs.T)(b.labelRef,l);(0,use_iso_morphic_effect.e)((()=>n.registerLabel(r)),[r]);let o=(0,use_event.z)((()=>{var f;return null==(f=b.inputRef.current)?void 0:f.focus({preventScroll:!0})})),u=(0,react.useMemo)((()=>({open:0===b.comboboxState,disabled:b.disabled})),[b]);return(0,render.sY)({ourProps:{ref:d,id:r,onClick:o},theirProps:i,slot:u,defaultTag:"label",name:"Combobox.Label"})})),lo=(0,render.yV)((function ze(t,l){let e=(0,use_id.M)(),{id:r=`headlessui-combobox-options-${e}`,hold:i=!1,...b}=t,n=H("Combobox.Options"),d=(0,use_sync_refs.T)(n.optionsRef,l),o=(0,open_closed.oJ)(),u=null!==o?(o&open_closed.ZM.Open)===open_closed.ZM.Open:0===n.comboboxState;(0,use_iso_morphic_effect.e)((()=>{var c;n.optionsPropsRef.current.static=null!=(c=t.static)&&c}),[n.optionsPropsRef,t.static]),(0,use_iso_morphic_effect.e)((()=>{n.optionsPropsRef.current.hold=i}),[n.optionsPropsRef,i]),function F({container:e,accept:t,walk:r,enabled:c=!0}){let o=(0,react.useRef)(t),l=(0,react.useRef)(r);(0,react.useEffect)((()=>{o.current=t,l.current=r}),[t,r]),(0,use_iso_morphic_effect.e)((()=>{if(!e||!c)return;let n=(0,owner.r)(e);if(!n)return;let f=o.current,p=l.current,d=Object.assign((i=>f(i)),{acceptNode:f}),u=n.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,d,!1);for(;u.nextNode();)p(u.currentNode)}),[e,c,o,l])}({container:n.optionsRef.current,enabled:0===n.comboboxState,accept:c=>"option"===c.getAttribute("role")?NodeFilter.FILTER_REJECT:c.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(c){c.setAttribute("role","none")}});let P=(0,use_computed.v)((()=>{var c,g;return null!=(g=n.labelId)?g:null==(c=n.buttonRef.current)?void 0:c.id}),[n.labelId,n.buttonRef.current]),f=(0,react.useMemo)((()=>({open:0===n.comboboxState})),[n]),E={"aria-labelledby":P,role:"listbox","aria-multiselectable":1===n.mode||void 0,id:r,ref:d};return(0,render.sY)({ourProps:E,theirProps:b,slot:f,defaultTag:"ul",features:Ze,visible:u,name:"Combobox.Options"})})),io=(0,render.yV)((function oo(t,l){var M,s;let e=(0,use_id.M)(),{id:r=`headlessui-combobox-option-${e}`,disabled:i=!1,value:b,...n}=t,d=H("Combobox.Option"),o=$("Combobox.Option"),u=null!==d.activeOptionIndex&&d.options[d.activeOptionIndex].id===r,P=d.isSelected(b),f=(0,react.useRef)(null),E=(0,use_latest_value.E)({disabled:i,value:b,domRef:f,textValue:null==(s=null==(M=f.current)?void 0:M.textContent)?void 0:s.toLowerCase()}),c=(0,use_sync_refs.T)(l,f),g=(0,use_event.z)((()=>o.selectOption(r)));(0,use_iso_morphic_effect.e)((()=>o.registerOption(r,E)),[E,r]);let m=(0,react.useRef)(!d.__demoMode);(0,use_iso_morphic_effect.e)((()=>{if(!d.__demoMode)return;let O=(0,disposables.k)();return O.requestAnimationFrame((()=>{m.current=!0})),O.dispose}),[]),(0,use_iso_morphic_effect.e)((()=>{if(0!==d.comboboxState||!u||!m.current||0===d.activationTrigger)return;let O=(0,disposables.k)();return O.requestAnimationFrame((()=>{var a,I;null==(I=null==(a=f.current)?void 0:a.scrollIntoView)||I.call(a,{block:"nearest"})})),O.dispose}),[f,u,d.comboboxState,d.activationTrigger,d.activeOptionIndex]);let x=(0,use_event.z)((O=>{if(i)return O.preventDefault();g(),0===d.mode&&o.closeCombobox(),platform_n()||requestAnimationFrame((()=>{var a;return null==(a=d.inputRef.current)?void 0:a.focus()}))})),L=(0,use_event.z)((()=>{if(i)return o.goToOption(calculate_active_index.T.Nothing);o.goToOption(calculate_active_index.T.Specific,r)})),F=(0,use_tracked_pointer.g)(),h=(0,use_event.z)((O=>F.update(O))),B=(0,use_event.z)((O=>{F.wasMoved(O)&&(i||u||o.goToOption(calculate_active_index.T.Specific,r,0))})),k=(0,use_event.z)((O=>{F.wasMoved(O)&&(i||u&&(d.optionsPropsRef.current.hold||o.goToOption(calculate_active_index.T.Nothing)))})),G=(0,react.useMemo)((()=>({active:u,selected:P,disabled:i})),[u,P,i]);return(0,render.sY)({ourProps:{id:r,ref:c,role:"option",tabIndex:!0===i?void 0:-1,"aria-disabled":!0===i||void 0,"aria-selected":P,disabled:void 0,onClick:x,onFocus:L,onPointerEnter:h,onMouseEnter:h,onPointerMove:B,onMouseMove:B,onPointerLeave:k,onMouseLeave:k},theirProps:n,slot:G,defaultTag:"li",name:"Combobox.Option"})})),Wo=Object.assign(to,{Input:ro,Button:no,Label:ao,Options:lo,Option:io});var PortalCompat=__webpack_require__("./node_modules/react-portal/es/PortalCompat.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),WindowContext=__webpack_require__("./src/window/WindowContext.tsx"),ControlWrapper=__webpack_require__("./src/controls/ControlWrapper.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const ComboBoxWrapper=(0,styled_components_browser_esm.ZP)(ControlWrapper.Z)`
  ${props=>props.theme.controls.ComboBoxWrapper}
`,ComboBoxLabel=styled_components_browser_esm.ZP.label`
  ${props=>props.theme.controls.ComboBoxLabel}
`,ComboBoxControl=styled_components_browser_esm.ZP.div`
  ${props=>props.theme.controls.ComboBoxControl}
`,ComboBoxButton=(0,styled_components_browser_esm.ZP)(Wo.Button)`
  ${props=>props.theme.controls.ComboBoxButton}
`,ComboBoxInput=(0,styled_components_browser_esm.ZP)(Wo.Input)`
  ${props=>props.theme.controls.ComboBoxInput}
`,ComboBoxOptions=(0,styled_components_browser_esm.ZP)(Wo.Options)`
  ${props=>props.theme.controls.ComboBoxOptions}
`,ComboBoxOption=(0,styled_components_browser_esm.ZP)(Wo.Option)`
  ${props=>props.theme.controls.ComboBoxOption}
`,ComboBox=_ref=>{let{disabled,label,nullable,onChange,options,value,inlineLabel}=_ref;const window=(0,WindowContext.zY)(),controlRef=(0,react.useRef)(null),buttonRef=(0,react.useRef)(null),[query,setQuery]=(0,react.useState)(""),[sizes,setSizes]=(0,react.useState)({width:0,left:0,top:0});(0,react.useEffect)((()=>{if(window){const rect=controlRef?.current.getBoundingClientRect()??{width:0,left:0,top:0,height:0};setSizes({width:rect.width,left:rect.left,top:rect.top+rect.height})}}),[window]);const onInputClick=()=>{buttonRef?.current?.click()},filteredOptions=""===query?options:options.filter((option=>option.toLowerCase().includes(query.toLowerCase())));return(0,jsx_runtime.jsx)(Wo,{disabled,value:value??"",onChange,nullable:!!nullable||void 0,children:_ref2=>{let{open}=_ref2;return(0,jsx_runtime.jsxs)(ComboBoxWrapper,{inlineLabel,children:[label&&(0,jsx_runtime.jsx)(ComboBoxLabel,{disabled,children:label}),(0,jsx_runtime.jsxs)(ComboBoxControl,{ref:controlRef,children:[(0,jsx_runtime.jsx)(ComboBoxInput,{disabled,onClick:onInputClick,onChange:event=>setQuery(event.target.value)}),(0,jsx_runtime.jsx)(ComboBoxButton,{disabled,ref:buttonRef}),(0,jsx_runtime.jsx)(PortalCompat.Z,{children:(0,jsx_runtime.jsx)(ComboBoxOptions,{open:filteredOptions.length>0&&open,...sizes,children:filteredOptions.map((option=>(0,jsx_runtime.jsx)(ComboBoxOption,{value:option,children:option},option)))})})]})]})}})};ComboBox.displayName="ComboBox";const controls_ComboBox=ComboBox;try{ComboBox.displayName="ComboBox",ComboBox.__docgenInfo={description:"",displayName:"ComboBox",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},nullable:{defaultValue:null,description:"",name:"nullable",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value?: string) => void"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"string[]"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},inlineLabel:{defaultValue:null,description:"",name:"inlineLabel",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/controls/ComboBox.tsx#ComboBox"]={docgenInfo:ComboBox.__docgenInfo,name:"ComboBox",path:"src/controls/ComboBox.tsx#ComboBox"})}catch(__react_docgen_typescript_loader_error){}var Argon=__webpack_require__("./stories/decorators/Argon.tsx");const ComboBox_stories={component:controls_ComboBox,decorators:[__webpack_require__("./stories/decorators/ControlStoryDecorator.tsx").Z],tags:["autodocs"]},Default={args:{options:["Banana","Strawberry","Blueberry","Orange"],label:"Smoothie",inlineLabel:!1},parameters:(0,Argon.ZP)("value","onChange",void 0)};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    options: options,\n    label: 'Smoothie',\n    inlineLabel: false\n  },\n  parameters: argon('value', 'onChange', undefined)\n}",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]},"./src/controls/ControlWrapper.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const ControlWrapper=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js").ZP.div`
  ${props=>props.theme.controls.ControlWrapper}
`,__WEBPACK_DEFAULT_EXPORT__=ControlWrapper;try{ControlWrapper.displayName="ControlWrapper",ControlWrapper.__docgenInfo={description:"",displayName:"ControlWrapper",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}},inlineLabel:{defaultValue:null,description:"",name:"inlineLabel",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/controls/ControlWrapper.tsx#ControlWrapper"]={docgenInfo:ControlWrapper.__docgenInfo,name:"ControlWrapper",path:"src/controls/ControlWrapper.tsx#ControlWrapper"})}catch(__react_docgen_typescript_loader_error){}},"./stories/decorators/ControlStoryDecorator.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__,b:()=>buildControlStoryDecorator});__webpack_require__("./node_modules/react/index.js");var styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_src_index__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/Wisp.tsx"),_src_index__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/elements/Desktop.tsx"),_src_index__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/window/Window.tsx"),_src_themes_default_theme__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/themes/default/theme.ts"),_src_window_WindowContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/window/WindowContext.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const buildControlStoryDecorator=_ref=>{let{width,height}=_ref;return(Story,context)=>"docs"===context.viewMode?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(styled_components__WEBPACK_IMPORTED_MODULE_2__.f6,{theme:_src_themes_default_theme__WEBPACK_IMPORTED_MODULE_3__.Z,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_window_WindowContext__WEBPACK_IMPORTED_MODULE_4__.WU,{value:{height,width},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:{position:"relative",width:width?`${width}px`:void 0,height:height?`${height}px`:void 0},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Story,{})})})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_src_index__WEBPACK_IMPORTED_MODULE_5__.Z,{enableVersionInfo:!1,enableWindowMinimize:!1,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_index__WEBPACK_IMPORTED_MODULE_6__.Z,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_index__WEBPACK_IMPORTED_MODULE_7__.Z,{id:"1",width:width??300,height:height??160,isClosable:!1,isMaximizable:!1,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Story,{})})]})},__WEBPACK_DEFAULT_EXPORT__=buildControlStoryDecorator({});try{buildControlStoryDecorator.displayName="buildControlStoryDecorator",buildControlStoryDecorator.__docgenInfo={description:"",displayName:"buildControlStoryDecorator",props:{width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/decorators/ControlStoryDecorator.tsx#buildControlStoryDecorator"]={docgenInfo:buildControlStoryDecorator.__docgenInfo,name:"buildControlStoryDecorator",path:"stories/decorators/ControlStoryDecorator.tsx#buildControlStoryDecorator"})}catch(__react_docgen_typescript_loader_error){}}}]);
//# sourceMappingURL=controls-ComboBox-stories.7a163ff8.iframe.bundle.js.map