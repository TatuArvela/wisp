"use strict";(globalThis.webpackChunk_tatuarvela_wisp=globalThis.webpackChunk_tatuarvela_wisp||[]).push([[218],{"./stories/controls/ScrollableContent.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Horizontal:()=>Horizontal,Vertical:()=>Vertical,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ScrollableContent_stories});var react=__webpack_require__("./node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const ScrollLeftButton=styled_components_browser_esm.ZP.button`
  ${props=>props.theme.controls.ScrollLeftButton}
`,ScrollRightButton=styled_components_browser_esm.ZP.button`
  ${props=>props.theme.controls.ScrollRightButton}
`,ScrollbarHorizontalTrack=styled_components_browser_esm.ZP.div`
  ${props=>props.theme.controls.ScrollbarHorizontalTrack}
`,ScrollbarHorizontalThumb=styled_components_browser_esm.ZP.div`
  ${props=>props.theme.controls.ScrollbarHorizontalThumb}
`,ScrollbarHorizontalWrapper=styled_components_browser_esm.ZP.div`
  ${props=>props.theme.controls.ScrollbarHorizontalWrapper}
`,ScrollbarHorizontal=_ref=>{let{width,scrollPositions,moveScrollbar}=_ref;const wrapperRef=(0,react.useRef)(null),thumbRef=(0,react.useRef)(null),onButtonMouseDown=amount=>()=>{moveScrollbar(amount,!0);const interval=setInterval((()=>moveScrollbar(amount,!0)),250);document.addEventListener("mouseup",(()=>{clearInterval(interval)}))};return(0,jsx_runtime.jsxs)(ScrollbarHorizontalWrapper,{style:{width:width+"px"},ref:wrapperRef,children:[(0,jsx_runtime.jsx)(ScrollLeftButton,{onMouseDown:onButtonMouseDown(-50)}),(0,jsx_runtime.jsx)(ScrollbarHorizontalTrack,{children:(0,jsx_runtime.jsx)(ScrollbarHorizontalThumb,{ref:thumbRef,style:(()=>{const thumbWidth=`calc(100% * (${width} / ${scrollPositions.scrollWidth}))`;return{width:thumbWidth,left:`calc(${scrollPositions.scrollLeft/scrollPositions.scrollLeftMax} * (100% - ${thumbWidth}))`}})(),onMouseDown:e=>{e.preventDefault();const onMouseMove=event=>{if(event.preventDefault(),0===event.button){const ratio=width/thumbRef.current.getBoundingClientRect().width;moveScrollbar(event.movementX*ratio)}};document.addEventListener("mousemove",onMouseMove),document.addEventListener("mouseup",(()=>{document.removeEventListener("mousemove",onMouseMove),document.removeEventListener("mouseup",void 0)}))}})}),(0,jsx_runtime.jsx)(ScrollRightButton,{onMouseDown:onButtonMouseDown(50)})]})};ScrollbarHorizontal.displayName="ScrollbarHorizontal";const controls_ScrollbarHorizontal=ScrollbarHorizontal;try{ScrollbarHorizontal.displayName="ScrollbarHorizontal",ScrollbarHorizontal.__docgenInfo={description:"",displayName:"ScrollbarHorizontal",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},scrollPositions:{defaultValue:null,description:"",name:"scrollPositions",required:!0,type:{name:"ScrollPositions"}},moveScrollbar:{defaultValue:null,description:"",name:"moveScrollbar",required:!0,type:{name:"(movement: number, smooth?: boolean) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/controls/ScrollbarHorizontal.tsx#ScrollbarHorizontal"]={docgenInfo:ScrollbarHorizontal.__docgenInfo,name:"ScrollbarHorizontal",path:"src/controls/ScrollbarHorizontal.tsx#ScrollbarHorizontal"})}catch(__react_docgen_typescript_loader_error){}const ScrollUpButton=styled_components_browser_esm.ZP.button`
  ${props=>props.theme.controls.ScrollUpButton}
`,ScrollDownButton=styled_components_browser_esm.ZP.button`
  ${props=>props.theme.controls.ScrollDownButton}
`,ScrollbarVerticalTrack=styled_components_browser_esm.ZP.div`
  ${props=>props.theme.controls.ScrollbarVerticalTrack}
`,ScrollbarVerticalThumb=styled_components_browser_esm.ZP.div`
  ${props=>props.theme.controls.ScrollbarVerticalThumb}
`,ScrollbarVerticalWrapper=styled_components_browser_esm.ZP.div`
  ${props=>props.theme.controls.ScrollbarVerticalWrapper}
`,ScrollbarVertical=_ref=>{let{height,scrollPositions,moveScrollbar}=_ref;const wrapperRef=(0,react.useRef)(null),thumbRef=(0,react.useRef)(null),onButtonMouseDown=amount=>()=>{moveScrollbar(amount,!0);const interval=setInterval((()=>moveScrollbar(amount,!0)),250);document.addEventListener("mouseup",(()=>{clearInterval(interval)}))};return(0,jsx_runtime.jsxs)(ScrollbarVerticalWrapper,{style:{height:height+"px"},ref:wrapperRef,children:[(0,jsx_runtime.jsx)(ScrollUpButton,{onMouseDown:onButtonMouseDown(-50)}),(0,jsx_runtime.jsx)(ScrollbarVerticalTrack,{children:(0,jsx_runtime.jsx)(ScrollbarVerticalThumb,{ref:thumbRef,style:(()=>{const thumbHeight=`calc(100% * (${height} / ${scrollPositions.scrollHeight}))`;return{height:thumbHeight,top:`calc(${scrollPositions.scrollTop/scrollPositions.scrollTopMax} * (100% - ${thumbHeight}))`}})(),onMouseDown:e=>{e.preventDefault();const onMouseMove=event=>{if(event.preventDefault(),0===event.button){const ratio=height/thumbRef.current.getBoundingClientRect().height;moveScrollbar(event.movementY*ratio)}};document.addEventListener("mousemove",onMouseMove),document.addEventListener("mouseup",(()=>{document.removeEventListener("mousemove",onMouseMove),document.removeEventListener("mouseup",void 0)}))}})}),(0,jsx_runtime.jsx)(ScrollDownButton,{onMouseDown:onButtonMouseDown(50)})]})};ScrollbarVertical.displayName="ScrollbarVertical";const controls_ScrollbarVertical=ScrollbarVertical;try{ScrollbarVertical.displayName="ScrollbarVertical",ScrollbarVertical.__docgenInfo={description:"",displayName:"ScrollbarVertical",props:{height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},scrollPositions:{defaultValue:null,description:"",name:"scrollPositions",required:!0,type:{name:"ScrollPositions"}},moveScrollbar:{defaultValue:null,description:"",name:"moveScrollbar",required:!0,type:{name:"(movement: number, smooth?: boolean) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/controls/ScrollbarVertical.tsx#ScrollbarVertical"]={docgenInfo:ScrollbarVertical.__docgenInfo,name:"ScrollbarVertical",path:"src/controls/ScrollbarVertical.tsx#ScrollbarVertical"})}catch(__react_docgen_typescript_loader_error){}const ScrollableContentView=styled_components_browser_esm.ZP.div`
  ${props=>props.theme.controls.ScrollableContentView}
`,ScrollableContentWrapper=styled_components_browser_esm.ZP.div`
  ${props=>props.theme.controls.ScrollableContentWrapper}
`,mapScrollPositions=target=>({scrollHeight:target?.scrollHeight??0,scrollLeft:target?.scrollLeft??0,scrollLeftMax:target?.scrollLeftMax??0,scrollTop:target?.scrollTop??0,scrollTopMax:target?.scrollTopMax??0,scrollWidth:target?.scrollWidth??0}),ScrollableContent=_ref=>{let{children,horizontal,vertical}=_ref;const wrapperRef=(0,react.useRef)(null),viewRef=(0,react.useRef)(null),[viewWidth,setViewWidth]=(0,react.useState)(0),[viewHeight,setViewHeight]=(0,react.useState)(0),[scrollPositions,setScrollPositions]=(0,react.useState)(),[showHorizontal,setShowHorizontal]=(0,react.useState)(),[showVertical,setShowVertical]=(0,react.useState)(),updateState=(0,react.useCallback)((()=>{setViewWidth(viewRef.current.getBoundingClientRect().width),setViewHeight(viewRef.current.getBoundingClientRect().height),setScrollPositions(mapScrollPositions(viewRef.current)),setShowHorizontal(horizontal&&viewRef.current.scrollWidth>wrapperRef.current.getBoundingClientRect().width),setShowVertical(vertical&&viewRef.current.scrollHeight>wrapperRef.current.getBoundingClientRect().height)}),[horizontal,vertical]),resizeObserver=(0,react.useRef)(new ResizeObserver((entries=>{updateState()})));(0,react.useEffect)((()=>{const observer=resizeObserver.current,view=viewRef?.current;return view&&(updateState(),observer.observe(view)),()=>observer.unobserve(view)}),[updateState]);const moveScrollPosition=(movementX,movementY,smooth)=>{viewRef.current.scrollTo({left:Math.max(Math.min(viewRef.current.scrollLeft+movementX,viewRef.current.scrollLeftMax),0),top:Math.max(Math.min(viewRef.current.scrollTop+movementY,viewRef.current.scrollTopMax),0),behavior:smooth?"smooth":void 0})};return(0,jsx_runtime.jsxs)(ScrollableContentWrapper,{ref:wrapperRef,children:[(0,jsx_runtime.jsx)(ScrollableContentView,{ref:viewRef,vertical:showVertical,horizontal:showHorizontal,onScroll:e=>{setScrollPositions(mapScrollPositions(viewRef.current))},children}),showVertical&&(0,jsx_runtime.jsx)(controls_ScrollbarVertical,{height:viewHeight,scrollPositions,moveScrollbar:(movementY,smooth)=>moveScrollPosition(0,movementY,smooth)}),showHorizontal&&(0,jsx_runtime.jsx)(controls_ScrollbarHorizontal,{width:viewWidth,scrollPositions,moveScrollbar:(movementX,smooth)=>moveScrollPosition(movementX,0,smooth)})]})};ScrollableContent.displayName="ScrollableContent";const controls_ScrollableContent=ScrollableContent;try{ScrollableContent.displayName="ScrollableContent",ScrollableContent.__docgenInfo={description:"",displayName:"ScrollableContent",props:{horizontal:{defaultValue:null,description:"",name:"horizontal",required:!1,type:{name:"boolean"}},vertical:{defaultValue:null,description:"",name:"vertical",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/controls/ScrollableContent.tsx#ScrollableContent"]={docgenInfo:ScrollableContent.__docgenInfo,name:"ScrollableContent",path:"src/controls/ScrollableContent.tsx#ScrollableContent"})}catch(__react_docgen_typescript_loader_error){}const ScrollableContent_stories={component:controls_ScrollableContent,decorators:[(0,__webpack_require__("./stories/decorators/ControlStoryDecorator.tsx").b)({width:400,height:400})],tags:["autodocs"]},Default={args:{horizontal:!0,vertical:!0,children:(0,jsx_runtime.jsx)("div",{style:{height:500,width:500,background:"linear-gradient(-45deg, yellow, orange)"}})}},Horizontal={args:{horizontal:!0,children:(0,jsx_runtime.jsx)("div",{style:{height:50,width:500,background:"linear-gradient(90deg, blue, green)"}})}},Vertical={args:{vertical:!0,children:(0,jsx_runtime.jsx)("div",{style:{height:500,width:50,background:"linear-gradient(180deg, red, purple)"}})}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    horizontal: true,\n    vertical: true,\n    children: <div style={{\n      height: 500,\n      width: 500,\n      background: 'linear-gradient(-45deg, yellow, orange)'\n    }}></div>\n  }\n}",...Default.parameters?.docs?.source}}},Horizontal.parameters={...Horizontal.parameters,docs:{...Horizontal.parameters?.docs,source:{originalSource:"{\n  args: {\n    horizontal: true,\n    children: <div style={{\n      height: 50,\n      width: 500,\n      background: 'linear-gradient(90deg, blue, green)'\n    }}></div>\n  }\n}",...Horizontal.parameters?.docs?.source}}},Vertical.parameters={...Vertical.parameters,docs:{...Vertical.parameters?.docs,source:{originalSource:"{\n  args: {\n    vertical: true,\n    children: <div style={{\n      height: 500,\n      width: 50,\n      background: 'linear-gradient(180deg, red, purple)'\n    }}></div>\n  }\n}",...Vertical.parameters?.docs?.source}}};const __namedExportsOrder=["Default","Horizontal","Vertical"]},"./stories/decorators/ControlStoryDecorator.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__,b:()=>buildControlStoryDecorator});__webpack_require__("./node_modules/react/index.js");var styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_src_index__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/Wisp.tsx"),_src_index__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/elements/Desktop.tsx"),_src_index__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/window/Window.tsx"),_src_themes_default_theme__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/themes/default/theme.ts"),_src_window_WindowContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/window/WindowContext.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const buildControlStoryDecorator=_ref=>{let{width,height}=_ref;return(Story,context)=>"docs"===context.viewMode?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(styled_components__WEBPACK_IMPORTED_MODULE_2__.f6,{theme:_src_themes_default_theme__WEBPACK_IMPORTED_MODULE_3__.Z,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_window_WindowContext__WEBPACK_IMPORTED_MODULE_4__.WU,{value:{height,width},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:{position:"relative",width:width?`${width}px`:void 0,height:height?`${height}px`:void 0},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Story,{})})})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_src_index__WEBPACK_IMPORTED_MODULE_5__.Z,{enableVersionInfo:!1,enableWindowMinimize:!1,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_index__WEBPACK_IMPORTED_MODULE_6__.Z,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_index__WEBPACK_IMPORTED_MODULE_7__.Z,{id:"1",width:width??300,height:height??160,isClosable:!1,isMaximizable:!1,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Story,{})})]})},__WEBPACK_DEFAULT_EXPORT__=buildControlStoryDecorator({});try{buildControlStoryDecorator.displayName="buildControlStoryDecorator",buildControlStoryDecorator.__docgenInfo={description:"",displayName:"buildControlStoryDecorator",props:{width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/decorators/ControlStoryDecorator.tsx#buildControlStoryDecorator"]={docgenInfo:buildControlStoryDecorator.__docgenInfo,name:"buildControlStoryDecorator",path:"stories/decorators/ControlStoryDecorator.tsx#buildControlStoryDecorator"})}catch(__react_docgen_typescript_loader_error){}}}]);
//# sourceMappingURL=controls-ScrollableContent-stories.1ead629a.iframe.bundle.js.map